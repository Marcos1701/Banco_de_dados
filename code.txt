testeCREATE TABLE CLIENTE (
    COD_CLI SERIAL PRIMARY KEY NOT NULL,
    NOME_CLI VARCHAR(128),
    ENDERECO_CLI VARCHAR(128)
);
select * from cliente
INSERT INTO CLIENTE VALUES(DEFAULT, 'CLIENTE LEGAL', 'BEM ALI');
INSERT INTO CLIENTE VALUES(DEFAULT, 'CLIENTE CHATO', 'SEU VIZINHO');
INSERT INTO CLIENTE VALUES(DEFAULT, 'CLIENTE', 'ALI');

CREATE TABLE TITULO (
    COD_TITULO SERIAL PRIMARY KEY NOT NULL,
    DESCR_TITULO VARCHAR(128)
);

INSERT INTO TITULO VALUES(DEFAULT, 'A VOLTA DOS QUE NÃO FORAM');
INSERT INTO TITULO VALUES(DEFAULT, 'TÍTULO 2');
INSERT INTO TITULO VALUES(DEFAULT, 'TÍTULO 3');

CREATE TABLE LIVRO (
    COD_LIVRO SERIAL PRIMARY KEY NOT NULL,
    COD_TITULO INT NOT NULL REFERENCES TITULO(COD_TITULO),
    QUANT_ESTOQUE INT,
    VALOR_UNITARIO REAL
);

INSERT INTO LIVRO VALUES(DEFAULT, 1, 10, 80);
INSERT INTO LIVRO VALUES(DEFAULT, 2, 5, 50);
INSERT INTO LIVRO VALUES(DEFAULT, 3, 3, 30);

drop table pedido

CREATE TABLE PEDIDO (
    COD_PEDIDO INT,
    COD_CLI INT,
    DATA_PEDIDO DATE,
    VALOR_TOTAL_PEDIDO REAL,
    QUANT_ITENS_PEDIDOS INT
);

SELECT * FROM PEDIDO
INSERT INTO PEDIDO VALUES(1, 1, CURRENT_DATE, 400, 5);
INSERT INTO PEDIDO VALUES(2, 2, CURRENT_DATE, 100, 2);
INSERT INTO PEDIDO VALUES(3, 3, CURRENT_DATE, 90, 3);

CREATE TABLE ITEM_PEDIDO (
    COD_LIVRO INT,
    COD_PEDIDO INT,
    QUANTIDADE_ITEM INT,
    VALOR_TOTAL_ITEM REAL
);

INSERT INTO ITEM_PEDIDO VALUES(1, 1, 5, 400);
INSERT INTO ITEM_PEDIDO VALUES(2, 2, 2, 100);
INSERT INTO ITEM_PEDIDO VALUES(3, 3, 3, 90);



/*Crie uma função que realiza o pedido de um único livro que possui estoque suficiente. 
O ato de realizar pedido consiste em inserir registros nas tabelas Pedido e Item_pedido, 
além de decrementar a quantidade em estoque. Essa funcão deve receber apenas os seguintes
parâmetros: Código do pedido, código do livro, nome do CLIENTE (imagine que não 
existam dois CLIENTES com o mesmo nome) e quantidade vendida.*/
